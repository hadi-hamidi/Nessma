// Language System for Nisbah Platform
const languages = {
    ar: {
        // Navigation
        nav_services: "الخدمات ▾",
        nav_articles: "المقالات ▾", 
        nav_about: "من نحن",
        nav_contact: "تواصل معنا",
        nav_get_started: "ابدأ الآن",
        
        // Hero Section
        hero_title: "هل شركتك تحتاج تمويل لمشترياتها؟",
        hero_subtitle: "تمويل B2B سريع ومرن",
        hero_description: "احصل على تمويل فوري لشراء المعدات والمواد التي تحتاجها شركتك",
        btn_get_started: "ابدأ الآن",
        btn_learn_more: "تعرّف على المزيد",
        
        // Card Section
        card_header: "نسبة — منصة التمويل الذكية",
        card_question: "ما هو نوع التمويل الذي تحتاجه لشركتك؟",
        option_working: "تمويل تشغيلي",
        option_working_desc: "للتشغيل اليومي",
        option_expansion: "تمويل توسعي",
        option_expansion_desc: "للتوسع والنمو",
        btn_start_assessment: "ابدأ التقييم",
        
        // Workflow Section
        workflow_badge: "للموردين",
        workflow_title: "كيف تعمل منصة نسبة؟",
        workflow_desc: "قدم لمشترينك خيارات تمويل مرنة لشراء منتجاتك وخدماتك، واحصل على الدفع فوراً.",
        step1_title: "اشترك في دقائق",
        step1_desc: "ابدأ بتقديم بعض التفاصيل عن عملك، ثم ابدأ بتقديم خيارات تمويل مرنة لمشترينك.",
        step2_title: "اربط متجرك",
        step2_desc: "اربط متجرك الإلكتروني أو نظام إدارة المبيعات مع نسبة لتمويل مشتريات العملاء.",
        step3_title: "قدم خيارات التمويل",
        step3_desc: "قدم لمشترينك خيارات تمويل مرنة لشراء منتجاتك وخدماتك بسهولة.",
        step4_title: "احصل على الدفع فوراً",
        step4_desc: "تلقى دفعاتك فوراً من نسبة، واترك إدارة التمويل والتحصيل لنا.",
        
        // Articles Section
        articles_title: "أحدث المقالات والرؤى",
        article1_title: "دليل شامل لتمويل المشاريع الصغيرة",
        article1_desc: "تعرف على أفضل الطرق للحصول على تمويل لمشروعك الصغير",
        article2_title: "كيف تحسن نسبة الموافقة على التمويل؟",
        article2_desc: "نصائح عملية لزيادة فرصك في الحصول على تمويل",
        article3_title: "أهمية التخطيط المالي للشركات الناشئة",
        article3_desc: "خطوات أساسية للتخطيط المالي السليم لشركتك الناشئة",
        read_more: "اقرأ المزيد",
        
        // Features Section
        features_badge: "لقيادات المبيعات",
        features_title: "لماذا تختار نسبة لتمويل مشتريات شركتك؟",
        feature1_desc: "أغلق الصفقات بسرعة وزد الإيرادات مع دورة مبيعات مبسطة",
        feature2_desc: "زد قاعدة عملائك بنسبة 20% وادفع النمو بسهولة",
        feature3_desc: "قدم شروط دفع مرنة تناسب احتياجات مشترينك وتوسع عملك",
        feature4_desc: "نسبة تقوم بفحص سريع لا يؤثر على تقييم ائتمان عملائك",
        feature5_desc: "نسبة تقوم بفحص سريع لا يؤثر على تقييم ائتمان عملائك",
        feature6_desc: "نسبة تقوم بفحص سريع لا يؤثر على تقييم ائتمان عملائك",
        
        // Suppliers Section
        suppliers_badge: "للموردين",
        suppliers_title: "كيف يعمل للموردين",
        suppliers_desc: "نفهم مدى أهمية مرحلة الدفع ونتأكد من أن عملاءك يحصلون على أفضل تجربة ممكنة.",
        
        // Buyers Section
        buyers_badge: "للمشترين",
        buyers_title: "كيف يعمل للمشترين",
        buyers_desc: "نفهم مدى أهمية مرحلة الدفع ونتأكد من أن عملاءك يحصلون على أفضل تجربة ممكنة.",
        
        
        // CTA Section
        cta_title: "حسّن تدفقك النقدي.",
        cta_highlight: "اليوم.",
        cta_description: "نساعد الشركات في الإمارات على إبرام المزيد من الصفقات وجمع الإيرادات بشكل أسرع من خلال تقديم شروط ائتمانية خالية من المخاطر.",
        cta_button: "ابدأ الآن",
        
        // Footer
        footer_resources: "الموارد",
        footer_help_center: "مركز المساعدة",
        footer_case_studies: "دراسات الحالة",
        footer_blog: "المدونة",
        footer_about: "من نحن",
        footer_about_us: "من نحن",
        footer_contact_us: "تواصل معنا",
        footer_careers: "الوظائف",
        footer_terms: "شروط العملاء",
        footer_privacy: "سياسة الخصوصية",
        footer_suppliers: "للموردين",
        footer_buy_now_pay_later: "اشتر الآن، ادفع لاحقاً",
        footer_invoice_discounting: "خصم الفواتير",
        footer_installments: "التقسيط",
        footer_buyers: "للمشترين",
        footer_dealer_financing: "تمويل التجار",
        footer_copyright: "© 2025 نسبة. جميع الحقوق محفوظة."
    },
    
    en: {
        // Navigation
        nav_services: "Services ▾",
        nav_articles: "Articles ▾",
        nav_about: "About us",
        nav_contact: "Contact us", 
        nav_get_started: "Get Started",
        
        // Hero Section
        hero_title: "Does your company need funding for purchases?",
        hero_subtitle: "Fast and flexible B2B financing",
        hero_description: "Get instant financing to buy equipment and materials your company needs",
        btn_get_started: "Get Started",
        btn_learn_more: "Learn More",
        
        // Card Section
        card_header: "Nisbah — Smart Funding Platform",
        card_question: "What type of funding does your company need?",
        option_working: "Working capital",
        option_working_desc: "For daily operations",
        option_expansion: "Expansion funding",
        option_expansion_desc: "For growth and expansion",
        btn_start_assessment: "Start Assessment",
        
        // Workflow Section
        workflow_badge: "For Suppliers",
        workflow_title: "How does Nisbah platform work?",
        workflow_desc: "Offer your buyers flexible financing options to purchase your products and services, and get paid immediately.",
        step1_title: "Sign up in minutes",
        step1_desc: "Get started by providing some details about your business, then start offering flexible financing options to your buyers.",
        step2_title: "Connect your store",
        step2_desc: "Connect your e-store or sales management system with Nisbah to finance customer purchases.",
        step3_title: "Offer financing options",
        step3_desc: "Offer your buyers flexible financing options to purchase your products and services easily.",
        step4_title: "Get paid immediately",
        step4_desc: "Receive your payments immediately from Nisbah, and leave financing and collection management to us.",
        
        // Articles Section
        articles_title: "Latest Articles & Insights",
        article1_title: "Complete guide to small business funding",
        article1_desc: "Learn the best ways to get funding for your small project",
        article2_title: "How to improve your funding approval rate?",
        article2_desc: "Practical tips to increase your chances of getting funding",
        article3_title: "Importance of financial planning for startups",
        article3_desc: "Essential steps for proper financial planning for your startup",
        read_more: "Read More",
        
        // Features Section
        features_badge: "For Sales Leaders",
        features_title: "Why choose Nisbah for your company's purchase financing?",
        feature1_desc: "Close deals quicker and boost revenue with a streamlined sales cycle",
        feature2_desc: "Increase your customer base by 20% and drive more growth effortlessly",
        feature3_desc: "Offer flexible payment terms to fit your buyers needs and expand your business",
        feature4_desc: "Nisbah does a quick check that doesn't affect your customers' credit score",
        feature5_desc: "Nisbah does a quick check that doesn't affect your customers' credit score",
        feature6_desc: "Nisbah does a quick check that doesn't affect your customers' credit score",
        
        // Suppliers Section
        suppliers_badge: "FOR SUPPLIERS",
        suppliers_title: "How it works for suppliers",
        suppliers_desc: "We understand how crucial is the payment stage and make sure your customers have the smoothest possible experience.",
        
        // Buyers Section
        buyers_badge: "FOR BUYERS",
        buyers_title: "How it works for buyers",
        buyers_desc: "We understand how crucial is the payment stage and make sure your customers have the smoothest possible experience.",
        
        
        // CTA Section
        cta_title: "Improve your cash flow.",
        cta_highlight: "Today.",
        cta_description: "We help companies in the UAE close more deals and collect revenue faster by offering zero-risk credit terms.",
        cta_button: "Get Started",
        
        // Footer
        footer_resources: "Resources",
        footer_help_center: "Help Center",
        footer_case_studies: "Case Studies",
        footer_blog: "Blog",
        footer_about: "About",
        footer_about_us: "About us",
        footer_contact_us: "Contact us",
        footer_careers: "Careers",
        footer_terms: "Customer terms",
        footer_privacy: "Privacy policy",
        footer_suppliers: "For Suppliers",
        footer_buy_now_pay_later: "Buy Now, Pay Later",
        footer_invoice_discounting: "Invoice Discounting",
        footer_installments: "Installments",
        footer_buyers: "For Buyers",
        footer_dealer_financing: "Dealer Financing",
        footer_copyright: "© 2025 Nisbah. All rights reserved."
    }
};

// Language Manager Class
class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'ar';
        this.init();
    }
    
    init() {
        this.updateLanguage();
        this.bindEvents();
    }
    
    bindEvents() {
        const languageToggle = document.getElementById('language-toggle');
        if (languageToggle) {
            languageToggle.addEventListener('click', () => {
                this.toggleLanguage();
            });
        }
    }
    
    toggleLanguage() {
        this.currentLanguage = this.currentLanguage === 'ar' ? 'en' : 'ar';
        localStorage.setItem('language', this.currentLanguage);
        this.updateLanguage();
        this.updateDocumentDirection();
    }
    
    updateLanguage() {
        const elements = document.querySelectorAll('[data-key]');
        const currentLang = languages[this.currentLanguage];
        
        elements.forEach(element => {
            const key = element.getAttribute('data-key');
            if (currentLang[key]) {
                element.textContent = currentLang[key];
            }
        });
        
        // Update language toggle button
        const languageToggle = document.getElementById('language-toggle');
        if (languageToggle) {
            languageToggle.textContent = this.currentLanguage === 'ar' ? 'EN' : 'AR';
        }
    }
    
    updateDocumentDirection() {
        const html = document.documentElement;
        if (this.currentLanguage === 'ar') {
            html.setAttribute('dir', 'rtl');
            html.setAttribute('lang', 'ar');
        } else {
            html.setAttribute('dir', 'ltr');
            html.setAttribute('lang', 'en');
        }
    }
}

// Initialize language manager when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    new LanguageManager();
});
